{"ast":null,"code":"var _jsxFileName = \"/home/maxvi2/Code/Strangers_Things/src/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport { getAllPosts, getMe } from \"./API/index\";\nimport { Navbar, Profile, Posts, Homepage, AuthForm } from \"./components/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [token, setToken] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    if (localStorage.token) {\n      setToken(localStorage.token);\n      setIsLoggedIn(!isLoggedIn);\n    }\n  }, []);\n  useEffect(() => {\n    if (token) {\n      const fetchMe = async () => {\n        const {\n          data\n        } = await getMe(token);\n        setUser({\n          username: data.username\n        });\n      };\n\n      fetchMe();\n    }\n  }, [isLoggedIn]);\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const data = await getAllPosts();\n        setPosts(data.posts);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        isLoggedIn: isLoggedIn,\n        setIsLoggedIn: setIsLoggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/posts\",\n          element: /*#__PURE__*/_jsxDEV(Posts, {\n            posts: posts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/auth\",\n          element: /*#__PURE__*/_jsxDEV(AuthForm, {\n            token: token,\n            setToken: setToken,\n            user: user,\n            setUser: setUser,\n            setIsLoggedIn: setIsLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This is a footer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 7\n  }, this);\n};\n\n_s(App, \"vyiVQnQaXX22OvJidn97GOVO+Hw=\");\n\n_c = App;\nconst appElement = document.getElementById(\"app\");\nconst root = ReactDOM.createRoot(appElement);\nroot.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 200,\n  columnNumber: 3\n}, this));\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","BrowserRouter","Router","Routes","Route","Link","getAllPosts","getMe","Navbar","Profile","Posts","Homepage","AuthForm","App","posts","setPosts","users","setUsers","token","setToken","isLoggedIn","setIsLoggedIn","user","setUser","localStorage","fetchMe","data","username","fetchPosts","error","console","appElement","document","getElementById","root","createRoot","render"],"sources":["/home/maxvi2/Code/Strangers_Things/src/index.js"],"sourcesContent":["import React, {\n  useEffect,\n  useState,\n} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n} from \"react-router-dom\";\nimport {\n  getAllPosts,\n  getMe,\n} from \"./API/index\";\nimport {\n  Navbar,\n  Profile,\n  Posts,\n  Homepage,\n  AuthForm,\n} from \"./components/index\";\n\nconst App =\n  () => {\n    const [\n      posts,\n      setPosts,\n    ] =\n      useState(\n        []\n      );\n    const [\n      users,\n      setUsers,\n    ] =\n      useState(\n        []\n      );\n    const [\n      token,\n      setToken,\n    ] =\n      useState(\n        \"\"\n      );\n    const [\n      isLoggedIn,\n      setIsLoggedIn,\n    ] =\n      useState(\n        false\n      );\n    const [\n      user,\n      setUser,\n    ] =\n      useState(\n        {}\n      );\n\n    useEffect(() => {\n      if (\n        localStorage.token\n      ) {\n        setToken(\n          localStorage.token\n        );\n        setIsLoggedIn(\n          !isLoggedIn\n        );\n      }\n    }, []);\n\n    useEffect(() => {\n      if (\n        token\n      ) {\n        const fetchMe =\n          async () => {\n            const {\n              data,\n            } =\n              await getMe(\n                token\n              );\n            setUser(\n              {\n                username:\n                  data.username,\n              }\n            );\n          };\n        fetchMe();\n      }\n    }, [\n      isLoggedIn,\n    ]);\n\n    useEffect(() => {\n      const fetchPosts =\n        async () => {\n          try {\n            const data =\n              await getAllPosts();\n            setPosts(\n              data.posts\n            );\n          } catch (error) {\n            console.error(\n              error\n            );\n          }\n        };\n      fetchPosts();\n    }, []);\n\n    return (\n      <div>\n        <Router>\n          <Navbar\n            isLoggedIn={\n              isLoggedIn\n            }\n            setIsLoggedIn={\n              setIsLoggedIn\n            }\n          />\n\n          <Routes>\n            <Route\n              path=\"/home\"\n              element={\n                <Homepage />\n              }\n            />\n            <Route\n              path=\"/profile\"\n              element={\n                <Profile />\n              }\n            />\n            <Route\n              path=\"/posts\"\n              element={\n                <Posts\n                  posts={\n                    posts\n                  }\n                />\n              }\n            />\n            <Route\n              path=\"/auth\"\n              element={\n                <AuthForm\n                  token={\n                    token\n                  }\n                  setToken={\n                    setToken\n                  }\n                  user={\n                    user\n                  }\n                  setUser={\n                    setUser\n                  }\n                  setIsLoggedIn={\n                    setIsLoggedIn\n                  }\n                />\n              }\n            />\n          </Routes>\n\n          <footer>\n            <p>\n              This\n              is\n              a\n              footer\n            </p>\n          </footer>\n        </Router>\n      </div>\n    );\n  };\n\nconst appElement =\n  document.getElementById(\n    \"app\"\n  );\n\nconst root =\n  ReactDOM.createRoot(\n    appElement\n  );\nroot.render(\n  <App />\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}